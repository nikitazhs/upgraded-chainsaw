# Notes API

Это API для управления заметками, разработанное на FastAPI.

## Функциональность

- **Авторизация и регистрация пользователей:** поддержка ролей "User" и "Admin".
- **Пользователь с ролью "User":**
  - Создает заметку.
  - Изменяет свою заметку.
  - Удаляет (мягкое удаление) свою заметку.
  - Получает список своих заметок.
  - Получает конкретную заметку.
- **Пользователь с ролью "Admin":**
  - Получает список всех заметок.
  - Получает список заметок конкретного пользователя.
  - Восстанавливает удаленные заметки.
- **Логирование:** все действия логируются в файл `app.log`.
- **Юнит-тесты:** тесты написаны с использованием `pytest`.
- **Контейнеризация:** проект можно запустить через Docker.

## Структура проекта
notes-api/ │ ├── app/ │ ├── init.py │ ├── config.py │ ├── database.py │ ├── models.py │ ├── schemas.py │ ├── crud.py │ ├── auth.py │ ├── dependencies.py │ └── main.py │ ├── tests/ │ └── test_main.py │ ├── Dockerfile ├── requirements.txt └── README.md

## Запуск проекта

### Локально

1. **Клонировать репозиторий:**
    ```bash
    git clone <URL репозитория>
    cd notes-api
    ```

2. **Создать виртуальное окружение и установить зависимости:**
    ```bash
    python3 -m venv venv
    # Для Linux/Mac:
    source venv/bin/activate
    # Для Windows:
    venv\Scripts\activate
    pip install -r requirements.txt
    ```

3. **Запустить приложение:**
    ```bash
    uvicorn app.main:app --reload
    ```

4. **Доступ к API:**
    Откройте браузер и перейдите по адресу: [http://localhost:8000/docs](http://localhost:8000/docs)

### С использованием Docker

1. **Собрать Docker образ:**
    ```bash
    docker build -t notes-api .
    ```

2. **Запустить контейнер:**
    ```bash
    docker run -d --name notes-api -p 8000:8000 notes-api
    ```

3. **Доступ к API:**
    Откройте браузер и перейдите по адресу: [http://localhost:8000/docs](http://localhost:8000/docs)

## Запуск тестов

Для запуска тестов выполните:
```bash
pytest


*Аннотация:*  
- **README.md:** Содержит описание функционала, структуру проекта и подробные инструкции по запуску как локально, так и в контейнере.

---

## Итоги

Каждый файл проекта подробно описан с комментариями, что поможет вам в PyCharm легко ориентироваться в коде:  
- **config.py** – настройки приложения;  
- **database.py** – подключение к базе данных;  
- **models.py** – описание таблиц;  
- **schemas.py** – валидация входящих и исходящих данных;  
- **crud.py** – операции с базой (создание, чтение, обновление, удаление);  
- **auth.py** – работа с JWT-токенами;  
- **dependencies.py** – зависимости для маршрутов (авторизация, проверка ролей);  
- **main.py** – регистрация маршрутов и запуск приложения;  
- **tests/** – базовые юнит-тесты;  
- **Dockerfile** – сборка образа Docker;  
- **README.md** – документация и инструкции.

Следуя этим подробным инструкциям и комментариям, вы сможете не только реализовать проект, но и глубже понять, как устроено приложение на FastAPI. Если появятся дополнительные вопросы или потребуется разъяснение по какому-либо аспекту, не стесняйтесь спрашивать!
